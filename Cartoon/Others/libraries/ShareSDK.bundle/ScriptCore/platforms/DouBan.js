var $pluginID = "com.mob.sharesdk.DouBan";eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([7-9a-cefhk-mo-qs-zA-Z]|[12]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('c y={"13":"api_key","14":"1g","15":"1N","1l":"covert_url"};h k(o){9.24=o;9.s={"H":8,"I":8};9.16=8}k.p.o=h(){z 9.24};k.p.T=h(){z"豆瓣"};k.p.U=h(){a(9.s["I"]!=8&&9.s["I"][y.13]!=8){z 9.s["I"][y.13]}q a(9.s["H"]!=8&&9.s["H"][y.13]!=8){z 9.s["H"][y.13]}z 8};k.p.1g=h(){a(9.s["I"]!=8&&9.s["I"][y.14]!=8){z 9.s["I"][y.14]}q a(9.s["H"]!=8&&9.s["H"][y.14]!=8){z 9.s["H"][y.14]}z 8};k.p.17=h(){a(9.s["I"]!=8&&9.s["I"][y.15]!=8){z 9.s["I"][y.15]}q a(9.s["H"]!=8&&9.s["H"][y.15]!=8){z 9.s["H"][y.15]}z 8};k.p.1O=h(){z"25-26-"+$7.b.1h.k+"-"+9.U()};k.p.1P=h(){a(9.s["I"]!=8&&9.s["I"][y.1l]!=8){z 9.s["I"][y.1l]}q a(9.s["H"]!=8&&9.s["H"][y.1l]!=8){z 9.s["H"][y.1l]}z $7.b.1P()};k.p.27=h(1i){a(28.1j==0){z 9.s["H"]}q{9.s["H"]=9.1Q(1i)}};k.p.29=h(1i){a(28.1j==0){z 9.s["I"]}q{9.s["I"]=9.1Q(1i)}};k.p.saveConfig=h(){c t=9;c 18="25-26";$7.19.2a("2b",1m,18,h(e){a(e!=8){c 1n=e.1i;a(1n==8){1n={}}1n["plat_"+t.o()]=t.U();$7.19.2c("2b",1n,1m,18,8)}})};k.p.isSupportAuth=h(){z 2d};k.p.authorize=h(D,1R){c l=8;a(9.2e()){9.2f(D,1R)}q{l={"B":$7.b.E.InvaildPlatform,"P":"分享平台［"+9.T()+"］应用信息无效!"};$7.Q.W(D,$7.b.v.C,l)}};k.p.handleAuthCallback=h(D,1w){c l=8;c t=9;c 1x=$7.K.parseUrl(1w);a(1x!=8&&1x.1y!=8){c x=$7.K.parseUrlParameters(1x.1y);a(x!=8){x["2g"]=9.U();x["client_secret"]=9.1g();x["grant_type"]="authorization_code";x["1N"]=9.17();$7.19.2h($7.b.1h.k,8,"1z://2i.1A.1B/2j/2k/1S","1C",x,8,h(e){a(e!=8){a(e["B"]!=8){$7.Q.W(D,$7.b.v.C,e)}q a(e["1T"]!=8&&e["1T"]==2l){c N=$7.K.2m($7.K.2n(e["2o"]));a(N.1a==8){t.2p(D,N)}q{l={"B":$7.b.E.X,"1D":N};$7.Q.W(D,$7.b.v.C,l)}}q{l={"B":$7.b.E.X,"1D":e};$7.Q.W(D,$7.b.v.C,l)}}q{l={"B":$7.b.E.X};$7.Q.W(D,$7.b.v.C,l)}})}q{l={"B":$7.b.E.2q,"P":"无效的授权回调:["+1w+"]"};$7.Q.W(D,$7.b.v.C,l)}}q{l={"B":$7.b.E.2q,"P":"无效的授权回调:["+1w+"]"};$7.Q.W(D,$7.b.v.C,l)}};k.p.cancelAuthorize=h(){9.1E(8,8)};k.p.addFriend=h(D,m,f){c l={"B":$7.b.E.1U,"P":"分享平台［"+9.T()+"］不支持添加好友!"};a(f!=8){f($7.b.v.C,l)}};k.p.getFriends=h(cursor,size,f){c l={"B":$7.b.E.1U,"P":"分享平台［"+9.T()+"］不支持获取好友列表!"};a(f!=8){f($7.b.v.C,l)}};k.p.share=h(D,F,f){c w=8;c A=8;c V=8;c 1o=8;c L=8;c t=9;c 1F=F["@1F"];c 1b={"@1F":1F};c o=$7.b.M(9.o(),F,"o");a(o==8){o=$7.b.Y.2r}a(o==$7.b.Y.2r){o=9.2s(F)}c 1G="1z://2t.1A.1B/shuo/v2/statuses/";c x=8;2v(o){R $7.b.Y.2w:{w=$7.b.M(9.o(),F,"w");x={"w":w};9.1k(h(m){t.1H([w],h(e){x["w"]=e.Z[0];t.1p(1G,"1C",x,h(J,e){c u=e;a(J==$7.b.v.1c){a(e!=8){u={};u["1q"]=e;u["1V"]=e["id"];u["w"]=e["w"]}}a(f!=8){f(J,u,m,1b)}})})});1d}R $7.b.Y.2x:{c O=$7.b.M(9.o(),F,"O");a(2y.p.1W.2z(O)===\'[2A 2B]\'){L=O[0]}w=$7.b.M(9.o(),F,"w");a(L!=8){9.2C(L,h(1r){c 1s="application/octet-stream";a(/\\.jpe?g$/.1t(1r)){1s="L/jpeg"}q a(/\\.2D$/.1t(1r)){1s="L/2D"}q a(/\\.2E$/.1t(1r)){1s="L/2E"}c 1J={"path":1r,"mime_type":1s};x={"L":"@1J("+$7.K.1X(1J)+")","w":w};t.1k(h(m){t.1H([w],h(e){x["w"]=e.Z[0];t.1p(1G,"1C",x,h(J,e){c u=e;a(J==$7.b.v.1c){a(e!=8){u={};u["1q"]=e;u["1V"]=e["id"];u["w"]=e["w"];u["O"]=[];c S=e["S"];a(S!=8){1K(c i=0;i<S.1j;i++){c 10=S[i]["11"];a(10!=8){1K(c j=0;j<10.1j;j++){c 11=10[j];a(11["o"]=="L"){u["O"].2F(11["2G"]);1d}}}}}}}a(f!=8){f(J,u,m,1b)}})})})})}q{l={"B":$7.b.E.X,"P":"分享参数L不能为空!"};a(f!=8){f($7.b.v.C,l,8,1b)}}1d}R $7.b.Y.2H:A=$7.b.M(9.o(),F,"A");w=$7.b.M(9.o(),F,"w");V=$7.b.M(9.o(),F,"V");1o=$7.b.M(9.o(),F,"1o");L=$7.b.M(9.o(),F,"url_image");a(V!=8&&A!=8){x={"w":w,"rec_title":V,"2I":A,"2J":1o,"rec_image":L};t.1k(h(m){t.1H([w,1o,A],h(e){x["w"]=e.Z[0];x["2J"]=e.Z[1];x["2I"]=e.Z[2];t.1p(1G,"1C",x,h(J,e){c u=e;a(J==$7.b.v.1c){a(e!=8){u={};u["1q"]=e;u["1V"]=e["id"];u["w"]=e["w"];u["urls"]=[A];u["O"]=[];c S=e["S"];a(S!=8){1K(c i=0;i<S.1j;i++){c 10=S[i]["11"];a(10!=8){1K(c j=0;j<10.1j;j++){c 11=10[j];a(11["o"]=="L"){u["O"].2F(11["2G"]);1d}}}}}}}a(f!=8){f(J,u,m,1b)}})})})}q{l={"B":$7.b.E.X,"P":"分享参数A、V不能为空!"};a(f!=8){f($7.b.v.C,l,8,1b)}}1d;default:{c l={"B":$7.b.E.UnsupportContentType,"P":"不支持的分享类型["+o+"]"};a(f!=8){f($7.b.v.C,l,8,1b)}1d}}};k.p.2K=h(1y,f){c t=9;a(1y!=8){c l={"B":$7.b.E.1U,"P":"分享平台［"+t.T()+"］不支持获取其他用户资料!"};a(f!=8){f($7.b.v.C,l)}z}t.1p("1z://2t.1A.1B/v2/m/~me","GET",8,h(J,e){c u=e;a(J==$7.b.v.1c){u={"2L":$7.b.1h.k};t.2M(u,e)}a(f!=8){f(J,u)}})};k.p.1p=h(A,2N,x,f){c l=8;c t=9;9.1k(h(m){a(m!=8){a(x==8){x={}}x["source"]=t.U();c 1Y=8;a(m.1e!=8){1Y={"Authorization":"Bearer "+m.1e.1S}}$7.19.2h($7.b.1h.k,8,A,2N,x,1Y,h(e){a(e!=8){a(e["B"]!=8){a(f){f($7.b.v.C,e)}}q{c N=$7.K.2m($7.K.2n(e["2o"]));a(e["1T"]==2l){a(N["1a"]==8&&N["r"]==8){a(f){f($7.b.v.1c,N)}}q{c 1a=$7.b.E.X;2v(N["1a"]){R 102:R 103:R 106:R 118:R 119:R 123:R 124:1a=$7.b.E.2O;1d}l={"B":1a,"1D":N};a(f){f($7.b.v.C,l)}}}q{l={"B":$7.b.E.X,"1D":N};a(f){f($7.b.v.C,l)}}}}q{l={"B":$7.b.E.X};a(f){f($7.b.v.C,l)}}})}q{l={"B":$7.b.E.2O,"P":"尚未授权["+t.T()+"]用户"};a(f){f($7.b.v.C,l)}}})};k.p.2C=h(A,f){a(!/^(1J\\:\\/)?\\//.1t(A)){$7.19.downloadFile(A,h(e){a(e.Z!=8){a(f!=8){f(e.Z)}}q{a(f!=8){f(8)}}})}q{a(f!=8){f(A)}}};k.p.1H=h(1Z,f){a(9.1P()){c t=9;9.1k(h(m){$7.b.convertUrl(t.o(),m,1Z,f)})}q{a(f){f({"Z":1Z})}}};k.p.2s=h(F){c o=$7.b.Y.2w;c A=$7.b.M(9.o(),F,"A");c V=$7.b.M(9.o(),F,"V");a(A!=8&&V!=8){o=$7.b.Y.2H}q{c O=$7.b.M(9.o(),F,"O");a(2y.p.1W.2z(O)===\'[2A 2B]\'){o=$7.b.Y.2x}}z o};k.p.2M=h(m,G){a(m!=8&&G!=8){m["1q"]=G;m["2P"]=G["id"];m["nickname"]=G["T"];a(G["2Q"]!=8){m["20"]=G["2Q"]}q a(G["2R"]){m["20"]=G["2R"]}q a(G["2S"]){m["20"]=G["2S"]}m["gender"]=2;m["A"]=G["alt"];a(G["1L"]!=8){c 1u=8;c 21=/(\\d+)-(\\d+)-(\\d+) (\\d+):(\\d+):(\\d+)/;a(21.1t(G["1L"])){c 1f=21.exec(G["1L"]);1u=22 1M(1f[1],1f[2]-1,1f[3],1f[4],1f[5],1f[6])}q{1u=22 1M(G["1L"])}a(1u.1W()!="Invalid 1M"){m["reg_at"]=1u.2T()}}}};k.p.2f=h(D,1R){c A="1z://2i.1A.1B/2j/2k/auth?2g="+9.U()+"&response_type=1a&1N="+$7.K.urlEncode(9.17())+"&display=mobile";$7.Q.ssdk_openAuthUrl(D,A,9.17())};k.p.2p=h(D,1v){c t=9;c 1e={"2P":1v["douban_user_id"],"1S":1v["access_token"],"expired":(22 1M().2T()+1v["expires_in"]*1000),"1q":1v,"o":$7.b.credentialType.OAuth2};c m={"2L":$7.b.1h.k,"1e":1e};9.1E(m,h(){t.2K(8,h(J,e){a(J==$7.b.v.1c){e["1e"]=m["1e"];m=e;t.1E(m,8)}$7.Q.W(D,$7.b.v.1c,m)})})};k.p.1E=h(m,f){9.16=m;c 18=9.1O();$7.19.2c("2U",9.16,1m,18,h(e){a(f!=8){f()}})};k.p.1k=h(f){a(9.16!=8){a(f){f(9.16)}}q{c t=9;c 18=9.1O();$7.19.2a("2U",1m,18,h(e){t.16=e!=8?e.1i:8;a(f){f(t.16)}})}};k.p.2e=h(){a(9.U()!=8&&9.1g()!=8&&9.17()!=8){z 2d}$7.Q.log("#warning:["+9.T()+"]应用信息有误，不能进行相关操作。请检查本地代码中和服务端的["+9.T()+"]平台应用配置是否有误! \\n本地配置:"+$7.K.1X(9.27())+"\\n服务器配置:"+$7.K.1X(9.29()));z 1m};k.p.1Q=h(12){c U=$7.K.23(12[y.13]);c 1g=$7.K.23(12[y.14]);c 17=$7.K.23(12[y.15]);12[y.13]=U;12[y.14]=1g;12[y.15]=17;z 12};$7.b.registerPlatformClass($7.b.1h.k,k);',[],181,'|||||||mob|null|this|if|shareSDK|var||data|callback||function|||DouBan|error|user||type|prototype|else||_appInfo|self|resultData|responseState|text|params|DouBanAppInfoKeys|return|url|error_code|Fail|sessionId|errorCode|parameters|rawData|local|server|state|utils|image|getShareParam|response|images|error_message|native|case|attachments|name|apiKey|title|ssdk_authStateChanged|APIRequestFail|contentType|result|medias|media|appInfo|ApiKey|Secret|RedirectUri|_currentUser|redirectUri|domain|ext|code|userData|Success|break|credential|res|secret|platformType|value|length|_getCurrentUser|ConvertUrl|false|curApps|desc|callApi|raw_data|imageUrl|mimeType|test|date|credentialRawData|callbackUrl|urlInfo|query|https|douban|com|POST|user_data|_setCurrentUser|flags|requestUrl|_convertUrl||file|for|created|Date|redirect_uri|cacheDomain|convertUrlEnabled|_checkAppInfoAvailable|settings|token|status_code|UnsupportFeature|cid|toString|objectToJsonString|header|contents|icon|exp|new|trim|_type|SSDK|Platform|localAppInfo|arguments|serverAppInfo|getCacheData|currentApp|setCacheData|true|_isAvailable|_webAuthorize|client_id|ssdk_callHTTPApi|www|service|auth2|200|jsonStringToObject|base64Decode|response_data|_succeedAuthorize|InvalidAuthCallback|Auto|_getShareType|api||switch|Text|Image|Object|apply|object|Array|_getImagePath|png|gif|push|src|WebPage|rec_url|rec_desc|getUserInfo|platform_type|_updateUserInfo|method|UserUnauth|uid|large_avatar|avatar|small_avatar|getTime|currentUser'.split('|'),0,{}))